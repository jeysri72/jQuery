<html>
	<head>
		<title>Events: Mouse Handling</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<style>
			#pad {
				background:#def;
				border :1px solid #aaa;
			}
		</style>
	</head>
	<body>
		<canvas id='pad' width='480' height='320'></canvas>
		<button id='clear'>Clear </button>
		<script>
			canvas = $('#pad')[0]
			context = canvas.getContext("2d")
			pendown = false
			$('#pad').mousemove(function(event)	{
				var xpos = event.pageX - canvas.offsetLeft
				var ypos = event.pageY - canvas.offsetTop
				if (pendown) 
					context.lineTo(xpos, ypos)
				else 
					context.moveTo(xpos, ypos)
				context.stroke()
			})
			
			$('#pad').mousedown(function() { pendown = true } )
			$('#pad') .mouseup(function() { pendown = false } )
			
			// bind event handler to clear button
			document.getElementById('clear').addEventListener('click', function() {
				canvas = $('#pad')[0]
				//context = canvas.getContext("2d")	
				//context.clearRect(0, 0, canvas.width, canvas.height)
				canvas.width = canvas.width
			});
		</script>
	</body>
</html>